<section class="form-container">
  <form
    class="form border"
    [formGroup]="createAppointmentForm"
    (ngSubmit)="onSubmit()"
  >
    <legend class="form-heading">Create Appointment</legend>
    <div class="form-group">
      <label for="dentist">Dentist</label>
      <select name="dentist" id="dentist" formControlName="dentist">
        <option *ngFor="let dentist of dentistsList" [value]="dentist._id">
          {{ dentist.firstName + " " + dentist.lastName }}
        </option>
      </select>
      <div
        *ngIf="
        createAppointmentForm.get('dentist')?.touched &&
        createAppointmentForm.get('dentist')?.errors?.['required']
      "
        class="input-error"
      >
        dentist required
      </div>
    </div>
    <div class="form-group">
      <label for="date">Date</label>
      <input type="date" name="date" id="date" formControlName="date" />
      <div
        *ngIf="
        createAppointmentForm.get('date')?.touched &&
        createAppointmentForm.get('date')?.errors?.['required']
      "
        class="input-error"
      >
        date required
      </div>
    </div>
    <div class="form-group">
      <label for="time">Time</label>
      <select name="time" id="time" formControlName="time">
        <option value="09:00" selected>09:00</option>
        <option value="09:30">09:30</option>
        <option value="10:00">10:00</option>
        <option value="10:30">10:30</option>
        <option value="11:00">11:00</option>
        <option value="11:30">11:30</option>
        <option value="12:00">12:00</option>
        <option value="12:30">12:30</option>
        <option value="14:00">14:00</option>
        <option value="14:30">14:30</option>
        <option value="15:00">15:00</option>
        <option value="15:30">15:30</option>
        <option value="16:00">16:00</option>
        <option value="16:30">16:30</option>
      </select>

      <div
        *ngIf="
        createAppointmentForm.get('time')?.touched &&
        createAppointmentForm.get('time')?.errors?.['required']
      "
        class="input-error"
      >
        Time required
      </div>
    </div>

    <div
      *ngIf="response"
      [ngClass]="{ 'input-error': hasError }"
      [ngStyle]="{ color: 'green' }"
    >
      {{ response }}
    </div>

    <div class="btn-group">
      <button
        class="btn btn-primary"
        type="submit"
        [disabled]="createAppointmentForm.invalid || isDisabled"
      >
        Create
      </button>

      <button type="button" (click)="onReset()" class="btn btn-cancel">
        Clear
      </button>
    </div>
  </form>
</section>
